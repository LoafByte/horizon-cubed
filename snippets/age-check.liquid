{%- comment -%}
  Age gate for a single page
{%- endcomment -%}

<div id="ageGate" class="age-gate-overlay" style="
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.75);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;">
  <div style="
    background:#fff;
    padding:2rem 3rem;
    border-radius:6px;
    text-align:center;
    max-width:380px;">
    <h2 style="margin-top:0;">Age Verification</h2>
    <p>You must be over 18 to view this page.</p>
    <button id="ageYes" class="btn" style="margin-right:1rem;">I am 18+</button>
    <button id="ageNo"  class="btn btn--secondary">Exit</button>
  </div>
</div>

<script>
  // Only run if the user hasnâ€™t already passed in this session
  if (!sessionStorage.getItem('ageVerified')) {
    document.body.style.overflow = 'hidden';        // freeze scroll
    document.getElementById('ageYes').addEventListener('click', () => {
      sessionStorage.setItem('ageVerified', 'true');
      document.getElementById('ageGate').remove();
      document.body.style.overflow = '';
    });
    document.getElementById('ageNo').addEventListener('click', () => {
      window.location.href = 'https://www.google.com';
    });
  } else {
    document.getElementById('ageGate').remove();
  }
</script>